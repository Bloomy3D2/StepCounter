# ‚úÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Swift —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–í–º–µ—Å—Ç–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ `Info.plist` (—á—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ), —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–≥–µ–Ω–µ—Ä–∞—Ü–∏—è Swift —Ñ–∞–π–ª–∞** –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **Build Script –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ü–ï–†–ï–î –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π**
   - –ß–∏—Ç–∞–µ—Ç `.xcconfig` —Ñ–∞–π–ª (Config.xcconfig –∏–ª–∏ Config.Release.xcconfig)
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `GeneratedConfig.swift` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   - –§–∞–π–ª –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º

2. **AppConfig –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GeneratedConfig**
   - –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `GeneratedConfig` (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ .xcconfig)
   - Fallback –Ω–∞ Info.plist –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

3. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ –ù–∞–¥–µ–∂–Ω–æ - –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –ø—Ä—è–º–æ –≤ –∫–æ–¥
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞ - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Info.plist
   - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ - .xcconfig —Ñ–∞–π–ª—ã –≤ .gitignore
   - ‚úÖ –†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è Debug/Release –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –®–∞–≥ 1: Clean Build Folder

–í Xcode:
- **Product** ‚Üí **Clean Build Folder** (‚áß‚åòK)

### –®–∞–≥ 2: Build

- **Product** ‚Üí **Build** (‚åòB)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏

–í Xcode –æ—Ç–∫—Ä–æ–π—Ç–µ **Report Navigator** (‚åò + 9) –∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–±–æ—Ä–∫—É. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
‚úÖ Generated GeneratedConfig.swift from .../Config.xcconfig
   Shop ID: 1256365
   Test Mode: true
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- **Product** ‚Üí **Run** (‚åòR)

–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üîë AppConfig: YooKassa Shop ID from GeneratedConfig: 1256365
üîë AppConfig: YooKassa Secret Key from GeneratedConfig: test_3NzNw2knb5rTf-b...
üîë AppConfig: YooKassa Test Mode from GeneratedConfig: true
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
‚ö†Ô∏è AppConfig: YooKassa Shop ID not found, using default
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Xcode

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Build Script Phase

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode
2. Target "ChallengeApp" ‚Üí **Build Phases**
3. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω **"Run Script: Generate Config"**
4. –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω **–ü–ï–†–ï–î** "Sources" (—á—Ç–æ–±—ã GeneratedConfig.swift –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ GeneratedConfig.swift

1. –û—Ç–∫—Ä–æ–π—Ç–µ `ChallengeApp/Utils/GeneratedConfig.swift`
2. –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
   ```swift
   static let yooKassaShopId: String = "1256365"
   static let yooKassaSecretKey: String = "test_3NzNw2knb5rTf-bMwRMfdACZdtpAmgmRVgdfW9FYToo"
   static let yooKassaIsTestMode: Bool = true
   ```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `GeneratedConfig.swift` –≤—Ä—É—á–Ω—É—é! –û–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ.

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Build Script –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è?

–í –ª–æ–≥–∞—Ö —Å–±–æ—Ä–∫–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞:
```
‚úÖ Generated GeneratedConfig.swift from ...
```

–ï—Å–ª–∏ –µ–µ –Ω–µ—Ç ‚Üí Build Script –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- Build Script Phase –¥–æ–±–∞–≤–ª–µ–Ω –≤ Build Phases?
- –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π? (`chmod +x scripts/generate-config.sh`)
- –°–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ü–ï–†–ï–î "Sources"?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ö–ª—é—á–∏ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ .xcconfig?

–í –ª–æ–≥–∞—Ö —Å–±–æ—Ä–∫–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Shop ID: 1256365
```

–ï—Å–ª–∏ `Shop ID:` –ø—É—Å—Ç–æ–π ‚Üí –∫–ª—é—á–∏ –Ω–µ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `.xcconfig`. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `.xcconfig` —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç?
- –ó–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤ `.xcconfig` —Ñ–∞–π–ª–∞—Ö?
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ —Å–∫—Ä–∏–ø—Ç–µ?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: GeneratedConfig.swift –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è?

1. –û—Ç–∫—Ä–æ–π—Ç–µ `ChallengeApp/Utils/GeneratedConfig.swift`
2. –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–º–∏ (–Ω–µ "YOUR_SHOP_ID")
3. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è ‚Üí Build Script –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å .xcconfig

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–í—Å–µ –∫–ª—é—á–∏ –∑–∞—â–∏—â–µ–Ω—ã:** `.xcconfig` —Ñ–∞–π–ª—ã –≤ `.gitignore` - –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ git
- **–†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:** Build Script –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ
- **–ì–æ—Ç–æ–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è Debug/Release –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ù–∞–¥–µ–∂–Ω–æ:** –ó–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–¥, –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç Info.plist

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –ö–ª—é—á–∏ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `GeneratedConfig` –≤ runtime
- ‚úÖ –ü–ª–∞—Ç–µ–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (–Ω–µ—Ç –æ—à–∏–±–∫–∏ 401)
- ‚úÖ –†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è Debug/Release
- ‚úÖ –ö–ª—é—á–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ git
