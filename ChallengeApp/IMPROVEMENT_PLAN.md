# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "–°—Ç–∞–≤–∫–∞ –Ω–∞ —Å–µ–±—è"

## üìä –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è vs –¢—Ä–µ–±—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–≠–∫—Ä–∞–Ω—ã (8 –∏–∑ 13 —Ç—Ä–µ–±—É–µ–º—ã—Ö):**
   - ‚úÖ –≠–∫—Ä–∞–Ω 1 - Splash/Entry (—á–∞—Å—Ç–∏—á–Ω–æ, –Ω–æ –µ—Å—Ç—å Onboarding –∏ Auth)
   - ‚úÖ –≠–∫—Ä–∞–Ω 7 - –ê–∫—Ç–∏–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ (`ActiveChallengeView`)
   - ‚úÖ –≠–∫—Ä–∞–Ω 9 - –ü—Ä–æ–≤–∞–ª (`FailureView`)
   - ‚úÖ –≠–∫—Ä–∞–Ω 10 - –ü–æ–±–µ–¥–∞ (`VictoryView`)
   - ‚úÖ –≠–∫—Ä–∞–Ω 11 - –ë–∞–ª–∞–Ω—Å (—á–∞—Å—Ç–∏—á–Ω–æ –≤ `ProfileView`)
   - ‚úÖ –≠–∫—Ä–∞–Ω 12 - –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ (`WithdrawView` –≤ `ProfileView`)
   - ‚úÖ –≠–∫—Ä–∞–Ω 13 - –ü—Ä–æ—Ñ–∏–ª—å (`ProfileView`)
   - ‚úÖ –≠–∫—Ä–∞–Ω 6 - –û–ø–ª–∞—Ç–∞ (`PaymentView`)

2. **–£—Ä–æ–≤–µ–Ω—å 1 - –°–∞–º–æ–æ—Ç—á—ë—Ç (80% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)**
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–Ø –≤—ã–ø–æ–ª–Ω–∏–ª —Å–µ–≥–æ–¥–Ω—è" –≤ `ActiveChallengeView`
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–Ø –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª" —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
   - ‚úÖ –ë–∞–∑–æ–≤–æ–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (–¥–µ–Ω—å–≥–∏ –Ω–∞ –∫–æ–Ω—É)

3. **–£—Ä–æ–≤–µ–Ω—å 2 - –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (30% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)**
   - ‚úÖ –°—á–µ—Ç—á–∏–∫–∏ "–û—Å—Ç–∞–ª–æ—Å—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤" –∏ "–°–µ–≥–æ–¥–Ω—è –≤—ã–±—ã–ª–æ"
   - ‚ùå –ù–ï–¢ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏ (‚úî/‚ùå)
   - ‚ùå –ù–ï–¢ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ —Å –≤–∏–¥–∏–º–æ—Å—Ç—å—é —Å—Ç–∞—Ç—É—Å–æ–≤

4. **–£—Ä–æ–≤–µ–Ω—å 3 - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (0% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)**
   - ‚ùå –ù–ï–¢ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–ª—É—á–∞–π–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
   - ‚ùå –ù–ï–¢ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - ‚ùå –ù–ï–¢ —Ç–∞–π–º–µ—Ä–∞ 2-3 —á–∞—Å–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - ‚ùå –ù–ï–¢ —ç–∫—Ä–∞–Ω–∞ 8 - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

5. **–≠–∫–æ–Ω–æ–º–∏–∫–∞ (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)**
   - ‚úÖ –ö–æ–º–∏—Å—Å–∏—è —Å–µ—Ä–≤–∏—Å–∞ 15% (–µ—Å—Ç—å –≤ –º–æ–¥–µ–ª–∏ `Challenge`)
   - ‚úÖ Apple Pay –∏ –∫–∞—Ä—Ç–∞ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
   - ‚ö†Ô∏è –ö–æ–º–∏—Å—Å–∏—è –Ω–∞ –≤—ã–≤–æ–¥ 2% - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
   - ‚ö†Ô∏è –ú–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞ 1000‚ÇΩ - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

6. **–ü—Ä–∞–≤–∏–ª–∞ –æ —Å–ø–æ—Ä–∞—Ö (50% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)**
   - ‚úÖ –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ `RulesView` –∏ `PaymentView`
   - ‚ùå –ù–ï–¢ —è–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ "–°–µ—Ä–≤–∏—Å –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"
   - ‚ùå –ù–ï–¢ —à–∞–±–ª–æ–Ω–∞ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è —Å–∞–ø–ø–æ—Ä—Ç–∞

---

### ‚ùå –ß–µ–≥–æ –ù–ï–¢ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è MVP):

1. **–≠–∫—Ä–∞–Ω—ã:**
   - ‚ùå –≠–∫—Ä–∞–Ω 2 - –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ (–õ–∏—á–Ω—ã–π/–ü—É–±–ª–∏—á–Ω—ã–π/–ê–∫—Ç–∏–≤–Ω—ã–µ)
   - ‚ùå –≠–∫—Ä–∞–Ω 3 - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π (üí∞ –î–µ–Ω—å–≥–∏, üìµ –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å, –∏ —Ç.–¥.)
   - ‚ùå –≠–∫—Ä–∞–Ω 4 - –í—ã–±–æ—Ä —á–µ–ª–ª–µ–Ω–¥–∂–∞ (—Å % –ø—Ä–æ–≤–∞–ª–æ–≤)
   - ‚ùå –≠–∫—Ä–∞–Ω 5 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å—Ç–∞–≤–∫–∞)
   - ‚ùå –≠–∫—Ä–∞–Ω 8 - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (`VerificationView`)

2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - ‚ùå –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –õ–∏—á–Ω—ã–µ –∏ –ü—É–±–ª–∏—á–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
   - ‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
   - ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
   - ‚ùå –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–£—Ä–æ–≤–µ–Ω—å 3)
   - ‚ùå –¢–∞–π–º–µ—Ä –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —á–µ–ª–ª–µ–Ω–¥–∂–µ

3. **–¢–µ–∫—Å—Ç—ã:**
   - ‚ùå –°–ª–æ–≥–∞–Ω "–°–æ—Ä–≤–∞–ª—Å—è ‚Äî –ø–ª–∞—Ç–∏—à—å. –í—ã–¥–µ—Ä–∂–∞–ª ‚Äî –∑–∞–±–∏—Ä–∞–µ—à—å –¥–µ–Ω—å–≥–∏."
   - ‚ùå –¢–µ–∫—Å—Ç "–¢—ã —Å—Ç–∞–≤–∏—à—å –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–µ—Ä–≤–∏—Å—É ‚Äî —Ç—ã —Å—Ç–∞–≤–∏—à—å –Ω–∞ —Å–≤–æ—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É"
   - ‚ùå –Ø–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –æ –Ω–µ–ø—Ä–æ–≤–µ—Ä–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üéØ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

### üî¥ –ö–†–ò–¢–ò–ß–ù–û (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) - –û—Å–Ω–æ–≤–∞ MVP

#### 1.1. –û–±–Ω–æ–≤–∏—Ç—å Splash/Entry —ç–∫—Ä–∞–Ω

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ò–∑–º–µ–Ω–∏—Ç—å `SplashView.swift`:
  - –ù–∞–∑–≤–∞–Ω–∏–µ: "–°—Ç–∞–≤–∫–∞ –Ω–∞ —Å–µ–±—è"
  - –¢–µ–∫—Å—Ç: "–°–æ—Ä–≤–∞–ª—Å—è ‚Äî –ø–ª–∞—Ç–∏—à—å. –í—ã–¥–µ—Ä–∂–∞–ª ‚Äî –∑–∞–±–∏—Ä–∞–µ—à—å –¥–µ–Ω—å–≥–∏."
  - –ö–Ω–æ–ø–∫–∞: "–ù–∞—á–∞—Ç—å"
  - ‚ùå –£–±—Ä–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–ª–æ–≥–∏–Ω (–∞–Ω–æ–Ω–∏–º–Ω—ã–π –≤—Ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
  - ‚ùå –£–±—Ä–∞—Ç—å Onboarding (–∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –≠—Ç–æ –ø–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ß–µ—Ç–∫–æ –ø–µ—Ä–µ–¥–∞–µ—Ç —Å—É—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞
- –£–ø—Ä–æ—â–∞–µ—Ç –≤—Ö–æ–¥ (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- `Views/SplashView.swift` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å
- `ChallengeAppApp.swift` - —É–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `isOnboardingCompleted` –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π
- `ChallengeAppApp.swift` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π –≤—Ö–æ–¥ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

---

#### 1.2. –°–æ–∑–¥–∞—Ç—å –≠–∫—Ä–∞–Ω 2 - –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `ChallengeFormatSelectionView.swift`:
  - 3 –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏:
    1. "–õ–∏—á–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂" - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    2. "–ü—É–±–ª–∏—á–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂" - —Å –¥—Ä—É–≥–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
    3. "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ" - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –∞–∫—Ç–∏–≤–Ω—ã–º —á–µ–ª–ª–µ–Ω–¥–∂–∞–º
  - –¢–µ–∫—Å—Ç –ø–æ–¥ –∫–Ω–æ–ø–∫–∞–º–∏: "–¢—ã —Å—Ç–∞–≤–∏—à—å –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–µ—Ä–≤–∏—Å—É ‚Äî —Ç—ã —Å—Ç–∞–≤–∏—à—å –Ω–∞ —Å–≤–æ—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É"
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `is_public BOOLEAN` –≤ —Ç–∞–±–ª–∏—Ü—É `challenges` (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
- –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é: Splash ‚Üí –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ ‚Üí –ö–∞—Ç–µ–≥–æ—Ä–∏–∏/–ê–∫—Ç–∏–≤–Ω—ã–µ

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ (–ª–∏—á–Ω—ã–µ vs –ø—É–±–ª–∏—á–Ω—ã–µ)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `Views/ChallengeFormatSelectionView.swift`
- –û–±–Ω–æ–≤–∏—Ç—å `Backend/supabase/schema.sql` - –¥–æ–±–∞–≤–∏—Ç—å `is_public` –≤ `challenges`
- –û–±–Ω–æ–≤–∏—Ç—å `Models/Challenge.swift` - –¥–æ–±–∞–≤–∏—Ç—å `isPublic: Bool`
- –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤ `RootView` –∏–ª–∏ `MainTabView`

---

#### 1.3. –°–æ–∑–¥–∞—Ç—å –≠–∫—Ä–∞–Ω 3 - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `ChallengeCategoriesView.swift`:
  - 5 –∫–∞—Ä—Ç–æ—á–µ–∫ —Å –∏–∫–æ–Ω–∫–∞–º–∏:
    - üí∞ –î–µ–Ω—å–≥–∏
    - üìµ –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å
    - üõå –†–µ–∂–∏–º
    - üèÉ –ü—Ä–∏–≤—ã—á–∫–∏
    - üî• –ò—Å–ø—ã—Ç–∞–Ω–∏—è
  - –¢–∞–ø –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –≠–∫—Ä–∞–Ω 4 (–í—ã–±–æ—Ä —á–µ–ª–ª–µ–Ω–¥–∂–∞) —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `category TEXT` –≤ —Ç–∞–±–ª–∏—Ü—É `challenges`
- –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å `Challenge` - –¥–æ–±–∞–≤–∏—Ç—å `category: String`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –£–ø—Ä–æ—â–∞–µ—Ç –≤—ã–±–æ—Ä —á–µ–ª–ª–µ–Ω–¥–∂–∞
- –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
- –£–ª—É—á—à–∞–µ—Ç UX

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `Views/ChallengeCategoriesView.swift`
- –û–±–Ω–æ–≤–∏—Ç—å `Backend/supabase/schema.sql` - –¥–æ–±–∞–≤–∏—Ç—å `category` –≤ `challenges`
- –û–±–Ω–æ–≤–∏—Ç—å `Models/Challenge.swift` - –¥–æ–±–∞–≤–∏—Ç—å `category`
- –û–±–Ω–æ–≤–∏—Ç—å `Managers/SupabaseManager.swift` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

#### 1.4. –û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 4 - –í—ã–±–æ—Ä —á–µ–ª–ª–µ–Ω–¥–∂–∞

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å `ChallengesListView.swift` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å `ChallengeSelectionView.swift`:
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —Å:
    - –ù–∞–∑–≤–∞–Ω–∏–µ–º
    - –ö—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
    - **–°—Ä–µ–¥–Ω–∏–º % –ø—Ä–æ–≤–∞–ª–æ–≤** (–Ω–æ–≤–æ–µ –ø–æ–ª–µ)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–µ—Å–ª–∏ –ø—Ä–∏—à–ª–∏ –∏–∑ –≠–∫—Ä–∞–Ω 3)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ñ–æ—Ä–º–∞—Ç—É (–ª–∏—á–Ω—ã–π/–ø—É–±–ª–∏—á–Ω—ã–π)
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç % –ø—Ä–æ–≤–∞–ª–æ–≤ –≤ –ë–î:
  - SQL —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞: `(failed_count / total_count) * 100`
  - –ò–ª–∏ –≤—ã—á–∏—Å–ª—è—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∞
- –ü–æ–º–æ–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π
- –°–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (–≤–∏–¥–∏—à—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É)

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å `Views/ChallengesListView.swift` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω
- –î–æ–±–∞–≤–∏—Ç—å SQL —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ % –ø—Ä–æ–≤–∞–ª–æ–≤
- –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å `Challenge` - –¥–æ–±–∞–≤–∏—Ç—å `failureRate: Double?`

---

#### 1.5. –°–æ–∑–¥–∞—Ç—å –≠–∫—Ä–∞–Ω 5 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `ChallengeSetupView.swift`:
  - –ü–æ–ª—è:
    - **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –∫–Ω–æ–ø–∫–∏ 1/3/5/7 –¥–Ω–µ–π
    - **–°—Ç–∞–≤–∫–∞**: –∫–Ω–æ–ø–∫–∏ 500‚ÇΩ/1000‚ÇΩ/1500‚ÇΩ + custom –ø–æ–ª–µ
  - –ò–Ω—Ñ–æ-–±–ª–æ–∫: "–ï—Å–ª–∏ —Ç—ã —Å–æ—Ä–≤—ë—à—å—Å—è ‚Äî –¥–µ–Ω—å–≥–∏ –ø–æ–π–¥—É—Ç –≤ –æ–±—â–∏–π –ø—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥"
  - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" ‚Üí –≠–∫—Ä–∞–Ω 6 (–û–ø–ª–∞—Ç–∞)
- –≠—Ç–æ –¥–ª—è **–ª–∏—á–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π** (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π)
- –î–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö - —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ (—Å—Ç–∞–≤–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
- –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç MVP —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `Views/ChallengeSetupView.swift`
- –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è —á–µ–ª–ª–µ–Ω–¥–∂–∞ –≤ `ChallengeManager`
- –î–æ–±–∞–≤–∏—Ç—å Edge Function –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞

---

#### 1.6. –û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 7 - –ê–∫—Ç–∏–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å `ActiveChallengeView.swift`:
  - –î–æ–±–∞–≤–∏—Ç—å **—Ç–∞–π–º–µ—Ä –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è** (–∫—Ä—É–ø–Ω—ã–π, –∑–∞–º–µ—Ç–Ω—ã–π)
  - –£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "—Å–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π –æ—Å—Ç–∞–ª–æ—Å—å" (–µ—Å–ª–∏ –ø—É–±–ª–∏—á–Ω—ã–π)
  - –ö–Ω–æ–ø–∫–∏ "‚úÖ –í—ã–ø–æ–ª–Ω–∏–ª" –∏ "‚ùå –ü—Ä–æ–≤–∞–ª–∏–ª—Å—è" - **–±–æ–ª—å—à–∏–µ, –ø–æ —Ü–µ–Ω—Ç—Ä—É**
  - –£–±—Ä–∞—Ç—å –ª–∏—à–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ñ–æ–∫—É—Å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–æ–¥—É–∫—Ç–∞
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º
- –¢–∞–π–º–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –¥–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å `Views/ActiveChallengeView.swift`
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞ –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è
- –£–ª—É—á—à–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é

---

#### 1.7. –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –æ –Ω–µ–ø—Ä–æ–≤–µ—Ä–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤–∏—Ç—å –≤ `RulesView`, `ChallengeDetailView`, `PaymentView`:
  - "–°–µ—Ä–≤–∏—Å –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ª–µ–∂–∏—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ."
  - "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã"
- –î–æ–±–∞–≤–∏—Ç—å –≤ `PaymentView` –ø–µ—Ä–µ–¥ —á–µ–∫–±–æ–∫—Å–æ–º —Å–æ–≥–ª–∞—Å–∏—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–æ—Ä–æ–≤ –∏ –∂–∞–ª–æ–±
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∞–ø–ø–æ—Ä—Ç
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ "–Ω–µ –¥–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–¥—É"

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- `Views/RulesView.swift` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª
- `Views/ChallengeDetailView.swift` - –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫
- `Views/PaymentView.swift` - –ø–µ—Ä–µ–¥ —á–µ–∫–±–æ–∫—Å–æ–º —Å–æ–≥–ª–∞—Å–∏—è

---

#### 1.8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å —ç–∫–æ–Ω–æ–º–∏–∫—É

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é –Ω–∞ –≤—ã–≤–æ–¥:
  - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 2% (—Å–µ–π—á–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–∞—è)
  - –ú–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞: 1000‚ÇΩ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ `WithdrawView`)
- –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã:
  - "–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã–≤–æ–¥ ‚Äî 2%"
  - "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: 1 000 ‚ÇΩ"
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–º–∏—Å—Å–∏—è 15% –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–∏
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- `Views/ProfileView.swift` (WithdrawView) - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é –∏ –º–∏–Ω–∏–º—É–º
- `Managers/SupabaseManager.swift` - –º–µ—Ç–æ–¥ `withdrawBalance` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é
- –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ UI

---

### üü° –í–ê–ñ–ù–û (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2) - –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—à–∫–∏

#### 2.1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≠–∫—Ä–∞–Ω 8 - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–£—Ä–æ–≤–µ–Ω—å 3)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `VerificationView.swift`:
  - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"
  - –¢–µ–∫—Å—Ç: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è"
  - –ß–µ–∫–±–æ–∫—Å: "–Ø –≤—ã–ø–æ–ª–Ω–∏–ª —É—Å–ª–æ–≤–∏–µ"
  - –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞: 2 —á–∞—Å–∞ (–∫—Ä—É–ø–Ω—ã–π, –∑–∞–º–µ—Ç–Ω—ã–π)
  - –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
  - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "–ù–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤ —Å—Ä–æ–∫ ‚Äî –ø—Ä–æ–≤–∞–ª"
- –î–æ–±–∞–≤–∏—Ç—å –≤ –ë–î —Ç–∞–±–ª–∏—Ü—É `verification_requests` (—Å–º. —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏)
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `needs_verification BOOLEAN` –≤ `user_challenges`
- –°–æ–∑–¥–∞—Ç—å Edge Function `trigger-random-verification`:
  - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ `complete_day`
  - –° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 5-10% —Å–æ–∑–¥–∞–µ—Ç `verification_request`
  - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `needs_verification = true`
- –î–æ–±–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≤–∞–ª, –µ—Å–ª–∏ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤ —Å—Ä–æ–∫

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ö–ª—é—á–µ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ–≥–ª–∞—Å–Ω–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è (—Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
- –°–æ–∑–¥–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `Views/VerificationView.swift`
- `Backend/supabase/schema.sql` - –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∏ –ø–æ–ª–µ
- `Backend/supabase/edge-functions/trigger-random-verification/index.ts` - —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
- `Models/Challenge.swift` - –¥–æ–±–∞–≤–∏—Ç—å `needsVerification` –≤ `UserChallenge`
- `Managers/ChallengeManager.swift` - –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
- `Managers/NotificationManager.swift` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

#### 2.2. –£–ª—É—á—à–∏—Ç—å –£—Ä–æ–≤–µ–Ω—å 2 - –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω `ChallengeParticipantsView` —Å:
  - –°–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–µ–ª–ª–µ–Ω–¥–∂–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö)
  - –°—Ç–∞—Ç—É—Å–æ–º –∫–∞–∂–¥–æ–≥–æ: ‚úî (–≤—ã–ø–æ–ª–Ω–∏–ª —Å–µ–≥–æ–¥–Ω—è) / ‚ùå (–ø—Ä–æ–≤–∞–ª–∏–ª—Å—è) / ‚è≥ (–µ—â–µ –Ω–µ –æ—Ç–º–µ—Ç–∏–ª—Å—è)
  - –ê–Ω–æ–Ω–∏–º–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ (User #1, User #2) –∏–ª–∏ –ø–µ—Ä–≤—ã–º–∏ –±—É–∫–≤–∞–º–∏ –∏–º–µ–Ω–∏
  - –°—á–µ—Ç—á–∏–∫–æ–º "X —á–µ–ª–æ–≤–µ–∫ –≤—ã–ª–µ—Ç–µ–ª–∏ —Å–µ–≥–æ–¥–Ω—è"
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–£—á–∞—Å—Ç–Ω–∏–∫–∏" –≤ `ActiveChallengeView` (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö)
- –í `ActiveChallengeView` –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "X —á–µ–ª–æ–≤–µ–∫ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —Å–µ–≥–æ–¥–Ω—è"

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –°–æ–∑–¥–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
- –õ—é–¥–∏ –±–æ—è—Ç—Å—è –≤—ã–≥–ª—è–¥–µ—Ç—å –ª—É–∑–µ—Ä–∞–º–∏
- –£—Å–∏–ª–∏–≤–∞–µ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
- –ë–µ–∑ –∂–∞–ª–æ–± –∏ –¥–æ–Ω–æ—Å–æ–≤ (—Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤)

**–ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `Views/ChallengeParticipantsView.swift`
- –û–±–Ω–æ–≤–∏—Ç—å `Views/ActiveChallengeView.swift` - –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –∏ —Å—á–µ—Ç—á–∏–∫
- –û–±–Ω–æ–≤–∏—Ç—å `Managers/SupabaseManager.swift` - –º–µ—Ç–æ–¥ `getChallengeParticipants(challengeId:)`
- –°–æ–∑–¥–∞—Ç—å SQL —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏

---

### üü¢ –£–õ–£–ß–®–ï–ù–ò–Ø (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3) - –ü–æ–ª–∏—Ä–æ–≤–∫–∞

#### 3.1. –û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 9 - –ü—Ä–æ–≤–∞–ª

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å `FailureView.swift`:
  - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ß–µ–ª–ª–µ–Ω–¥–∂ –∑–∞–≤–µ—Ä—à—ë–Ω"
  - –¢–µ–∫—Å—Ç: "–¢—ã —Å–æ—Ä–≤–∞–ª—Å—è. –î–µ–Ω—å–≥–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ø—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥."
  - –ö–Ω–æ–ø–∫–∏:
    - "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ" - –≤–æ–∑–≤—Ä–∞—Ç –∫ –≤—ã–±–æ—Ä—É —á–µ–ª–ª–µ–Ω–¥–∂–∞
    - "–í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –≤—ã–∑–æ–≤" - –≤–æ–∑–≤—Ä–∞—Ç –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - ‚ùå –£–±—Ä–∞—Ç—å —Å—Ç—ã–¥, –æ–±–≤–∏–Ω–µ–Ω–∏—è
  - ‚úÖ –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ç–æ–Ω

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
- –ù–µ –¥–µ–º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞

---

#### 3.2. –û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 10 - –ü–æ–±–µ–¥–∞

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å `VictoryView.swift`:
  - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º"
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å:
    - –í—ã–∏–≥—Ä—ã—à (–∫—Ä—É–ø–Ω–æ)
    - –°–∫–æ–ª—å–∫–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª
    - –°—Ç–∞—Ç—É—Å: "–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ 48 —á–∞—Å–æ–≤" (–µ—Å–ª–∏ –µ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ)
  - –ö–Ω–æ–ø–∫–∞: "–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–∞–ª–∞–Ω—Å"

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ß–µ—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–∏–≥—Ä—ã—à–µ
- –ü–æ–Ω—è—Ç–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥

---

#### 3.3. –û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 11 - –ë–∞–ª–∞–Ω—Å

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ `ProfileView`:
  - –†–∞–∑–¥–µ–ª "–ë–∞–ª–∞–Ω—Å" —Å —Ç—Ä–µ–º—è —Å—Ç–∞—Ç—É—Å–∞–º–∏:
    - –î–æ—Å—Ç—É–ø–Ω–æ (–∑–µ–ª–µ–Ω—ã–π)
    - –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ (—Å–∏–Ω–∏–π, —Å —Ç–∞–π–º–µ—Ä–æ–º)
    - –û–∂–∏–¥–∞–µ—Ç –≤—ã–≤–æ–¥–∞ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
  - –ö–Ω–æ–ø–∫–∏:
    - "–í—ã–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏" ‚Üí –≠–∫—Ä–∞–Ω 12
    - "–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —á–µ–ª–ª–µ–Ω–¥–∂" ‚Üí –≠–∫—Ä–∞–Ω 2

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–µ–π—Å—Ç–≤–∏—è–º

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

### –≠—Ç–∞–ø 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è (3-4 –¥–Ω—è)

1. **–û–±–Ω–æ–≤–∏—Ç—å Splash/Entry**
   - [ ] –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å `SplashView.swift` —Å –Ω–æ–≤—ã–º —Ç–µ–∫—Å—Ç–æ–º
   - [ ] –£–±—Ä–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π Onboarding
   - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π –≤—Ö–æ–¥
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

2. **–°–æ–∑–¥–∞—Ç—å –≠–∫—Ä–∞–Ω 2 - –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞**
   - [ ] –°–æ–∑–¥–∞—Ç—å `ChallengeFormatSelectionView.swift`
   - [ ] –î–æ–±–∞–≤–∏—Ç—å `is_public` –≤ –ë–î –∏ –º–æ–¥–µ–ª—å
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

3. **–°–æ–∑–¥–∞—Ç—å –≠–∫—Ä–∞–Ω 3 - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏**
   - [ ] –°–æ–∑–¥–∞—Ç—å `ChallengeCategoriesView.swift`
   - [ ] –î–æ–±–∞–≤–∏—Ç—å `category` –≤ –ë–î –∏ –º–æ–¥–µ–ª—å
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

4. **–û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 4 - –í—ã–±–æ—Ä —á–µ–ª–ª–µ–Ω–¥–∂–∞**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å % –ø—Ä–æ–≤–∞–ª–æ–≤ –≤ –º–æ–¥–µ–ª—å
   - [ ] –°–æ–∑–¥–∞—Ç—å SQL —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

5. **–°–æ–∑–¥–∞—Ç—å –≠–∫—Ä–∞–Ω 5 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞**
   - [ ] –°–æ–∑–¥–∞—Ç—å `ChallengeSetupView.swift`
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞
   - [ ] –°–æ–∑–¥–∞—Ç—å Edge Function –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

### –≠—Ç–∞–ø 2: –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—à–∫–∏ (4-5 –¥–Ω–µ–π)

6. **–û–±–Ω–æ–≤–∏—Ç—å –≠–∫—Ä–∞–Ω 7 - –ê–∫—Ç–∏–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è
   - [ ] –£–ª—É—á—à–∏—Ç—å –∫–Ω–æ–ø–∫–∏ (–±–æ–ª—å—à–∏–µ, –ø–æ —Ü–µ–Ω—Ç—Ä—É)
   - [ ] –î–æ–±–∞–≤–∏—Ç—å "X –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —Å–µ–≥–æ–¥–Ω—è"
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

7. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≠–∫—Ä–∞–Ω 8 - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**
   - [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `verification_requests` –≤ –ë–î
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `needs_verification` –≤ `user_challenges`
   - [ ] –°–æ–∑–¥–∞—Ç—å Edge Function `trigger-random-verification`
   - [ ] –°–æ–∑–¥–∞—Ç—å `VerificationView.swift`
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ `ChallengeManager`
   - [ ] –î–æ–±–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Ñ–ª–æ—É

8. **–£–ª—É—á—à–∏—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ**
   - [ ] –°–æ–∑–¥–∞—Ç—å `ChallengeParticipantsView.swift`
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getChallengeParticipants()` –≤ `SupabaseManager`
   - [ ] –°–æ–∑–¥–∞—Ç—å SQL —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–£—á–∞—Å—Ç–Ω–∏–∫–∏" –≤ `ActiveChallengeView`
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

9. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –æ –Ω–µ–ø—Ä–æ–≤–µ—Ä–∫–µ**
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å `RulesView.swift`
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å `ChallengeDetailView.swift`
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å `PaymentView.swift`
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

### –≠—Ç–∞–ø 3: –≠–∫–æ–Ω–æ–º–∏–∫–∞ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (2-3 –¥–Ω—è)

10. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å —ç–∫–æ–Ω–æ–º–∏–∫—É**
    - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é –Ω–∞ –≤—ã–≤–æ–¥ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 2%)
    - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1000‚ÇΩ)
    - [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ UI
    - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã

11. **–û–±–Ω–æ–≤–∏—Ç—å —ç–∫—Ä–∞–Ω—ã –ü—Ä–æ–≤–∞–ª –∏ –ü–æ–±–µ–¥–∞**
    - [ ] –û–±–Ω–æ–≤–∏—Ç—å `FailureView.swift` —Å –Ω–æ–≤—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
    - [ ] –û–±–Ω–æ–≤–∏—Ç—å `VictoryView.swift` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–≤–µ—Ä–∫–µ
    - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

12. **–£–ª—É—á—à–∏—Ç—å —ç–∫—Ä–∞–Ω –ë–∞–ª–∞–Ω—Å**
    - [ ] –£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ `ProfileView`
    - [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —á–µ–ª–ª–µ–Ω–¥–∂"
    - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## üé® UI/UX –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (–∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è)

### –≠–∫—Ä–∞–Ω 1 - Splash:
- –õ–æ–≥–æ—Ç–∏–ø
- –¢–µ–∫—Å—Ç: "–°–æ—Ä–≤–∞–ª—Å—è ‚Äî –ø–ª–∞—Ç–∏—à—å. –í—ã–¥–µ—Ä–∂–∞–ª ‚Äî –∑–∞–±–∏—Ä–∞–µ—à—å –¥–µ–Ω—å–≥–∏."
- –ö–Ω–æ–ø–∫–∞: "–ù–∞—á–∞—Ç—å"
- ‚ùå –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚ùå –ë–µ–∑ –ª–æ–≥–∏–Ω–∞

### –≠–∫—Ä–∞–Ω 2 - –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞:
- 3 –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏ (—Ä–∞–≤–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)
- –¢–µ–∫—Å—Ç –ø–æ–¥ –∫–Ω–æ–ø–∫–∞–º–∏: "–¢—ã —Å—Ç–∞–≤–∏—à—å –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–µ—Ä–≤–∏—Å—É ‚Äî —Ç—ã —Å—Ç–∞–≤–∏—à—å –Ω–∞ —Å–≤–æ—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É"

### –≠–∫—Ä–∞–Ω 7 - –ê–∫—Ç–∏–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂:
- –¢–∞–π–º–µ—Ä –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è (–∫—Ä—É–ø–Ω—ã–π, –∑–∞–º–µ—Ç–Ω—ã–π)
- –ö–Ω–æ–ø–∫–∏ "‚úÖ –í—ã–ø–æ–ª–Ω–∏–ª" –∏ "‚ùå –ü—Ä–æ–≤–∞–ª–∏–ª—Å—è" - **–±–æ–ª—å—à–∏–µ, –ø–æ —Ü–µ–Ω—Ç—Ä—É**
- –ú–∏–Ω–∏–º—É–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ñ–æ–∫—É—Å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º

### –≠–∫—Ä–∞–Ω 8 - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- –¢–µ–∫—Å—Ç: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è"
- –ß–µ–∫–±–æ–∫—Å "–Ø –≤—ã–ø–æ–ª–Ω–∏–ª —É—Å–ª–æ–≤–∏–µ"
- –¢–∞–π–º–µ—Ä 2 —á–∞—Å–∞ (–∫—Ä—É–ø–Ω—ã–π, –∑–∞–º–µ—Ç–Ω—ã–π)
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ challenges
ALTER TABLE public.challenges 
ADD COLUMN IF NOT EXISTS is_public BOOLEAN DEFAULT true NOT NULL,
ADD COLUMN IF NOT EXISTS category TEXT,
ADD COLUMN IF NOT EXISTS failure_rate DECIMAL(5, 2); -- % –ø—Ä–æ–≤–∞–ª–æ–≤

-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
CREATE TABLE IF NOT EXISTS public.verification_requests (
    id BIGSERIAL PRIMARY KEY,
    user_challenge_id BIGINT REFERENCES user_challenges(id) ON DELETE CASCADE NOT NULL,
    requested_date DATE NOT NULL,
    status TEXT NOT NULL DEFAULT 'PENDING', -- PENDING, CONFIRMED, FAILED, EXPIRED
    expires_at TIMESTAMPTZ NOT NULL,
    confirmation_text TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    confirmed_at TIMESTAMPTZ,
    UNIQUE(user_challenge_id, requested_date)
);

-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ user_challenges
ALTER TABLE public.user_challenges 
ADD COLUMN IF NOT EXISTS needs_verification BOOLEAN DEFAULT false NOT NULL;

-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
CREATE INDEX IF NOT EXISTS idx_user_challenges_challenge_active 
ON public.user_challenges(challenge_id, is_active) 
WHERE is_active = true;
```

### SQL —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ % –ø—Ä–æ–≤–∞–ª–æ–≤:

```sql
CREATE OR REPLACE FUNCTION calculate_challenge_failure_rate(p_challenge_id BIGINT)
RETURNS DECIMAL(5, 2) AS $$
DECLARE
    v_total INTEGER;
    v_failed INTEGER;
    v_rate DECIMAL(5, 2);
BEGIN
    SELECT COUNT(*) INTO v_total
    FROM public.user_challenges
    WHERE challenge_id = p_challenge_id;
    
    SELECT COUNT(*) INTO v_failed
    FROM public.user_challenges
    WHERE challenge_id = p_challenge_id AND is_failed = true;
    
    IF v_total = 0 THEN
        RETURN 0;
    END IF;
    
    v_rate := (v_failed::DECIMAL / v_total::DECIMAL) * 100;
    RETURN ROUND(v_rate, 2);
END;
$$ LANGUAGE plpgsql;
```

### Edge Functions - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **trigger-random-verification**
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `complete_day`
   - –° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 5-10% —Å–æ–∑–¥–∞–µ—Ç `verification_request`
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `needs_verification = true`
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

2. **confirm-verification**
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å `verification_request`
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç `needs_verification`

3. **create-custom-challenge**
   - –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —á–µ–ª–ª–µ–Ω–¥–∂
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å—Ç–∞–≤–∫—É
   - –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ `challenges` —Å `is_public = false`

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤:

1. **–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ MVP:**
   - ‚úÖ –í—Å–µ 13 —ç–∫—Ä–∞–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
   - ‚úÖ –õ–∏—á–Ω—ã–µ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
   - ‚úÖ –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –≠–∫–æ–Ω–æ–º–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

2. **–°–Ω–∏–∂–µ–Ω–∏–µ —Å–ø–æ—Ä–æ–≤ –Ω–∞ 80-90%**
   - –Ø–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –æ –Ω–µ–ø—Ä–æ–≤–µ—Ä–∫–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã —Å–∞–ø–ø–æ—Ä—Ç—É

3. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–µ—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–∞ 15-20%**
   - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ
   - –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ —É—Å–∏–ª–∏–≤–∞–µ—Ç –º–æ—Ç–∏–≤–∞—Ü–∏—é

4. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∞–ø–ø–æ—Ä—Ç –Ω–∞ 70%**
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫
   - –ß–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å 13 —ç–∫—Ä–∞–Ω–∞–º–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ß–µ—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è: Splash ‚Üí –§–æ—Ä–º–∞—Ç ‚Üí –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –í—ã–±–æ—Ä ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Üí –û–ø–ª–∞—Ç–∞
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –Ω–∞ –∫–∞–∂–¥–æ–º —ç–∫—Ä–∞–Ω–µ
- Breadcrumbs –∏–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –†–∏—Å–∫ 2: –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–∂–µ—Ç —Ä–∞–∑–¥—Ä–∞–∂–∞—Ç—å
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –°–¥–µ–ª–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π (5-10%)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ: "–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —á–µ—Å—Ç–Ω–æ—Å—Ç—å"
- –ù–∞–≥—Ä–∞–∂–¥–∞—Ç—å –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫

### –†–∏—Å–∫ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ MVP

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π MVP (30 –¥–Ω–µ–π):

**–ù–µ–¥–µ–ª—è 1:**
- ‚úÖ –≠–∫—Ä–∞–Ω 1 (Splash) –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –≠–∫—Ä–∞–Ω 2 (–í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞) —Å–æ–∑–¥–∞–Ω
- ‚úÖ –≠–∫—Ä–∞–Ω 3 (–ö–∞—Ç–µ–≥–æ—Ä–∏–∏) —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ù–µ–¥–µ–ª—è 2:**
- ‚úÖ –≠–∫—Ä–∞–Ω 4 (–í—ã–±–æ—Ä) –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –≠–∫—Ä–∞–Ω 5 (–ù–∞—Å—Ç—Ä–æ–π–∫–∞) —Å–æ–∑–¥–∞–Ω
- ‚úÖ –≠–∫—Ä–∞–Ω 7 (–ê–∫—Ç–∏–≤–Ω—ã–π) —É–ª—É—á—à–µ–Ω (—Ç–∞–π–º–µ—Ä, –∫–Ω–æ–ø–∫–∏)
- ‚úÖ –õ–æ–≥–∏–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ù–µ–¥–µ–ª—è 3:**
- ‚úÖ –≠–∫—Ä–∞–Ω 8 (–ü—Ä–æ–≤–µ—Ä–∫–∞) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–æ
- ‚úÖ –ë–∞–ª–∞–Ω—Å –∏ –≤—ã–≤–æ–¥ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

**–ù–µ–¥–µ–ª—è 4:**
- ‚úÖ –í—Å–µ —Ç–µ–∫—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –†–µ–ª–∏–∑

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
   - –°–Ω–∞—á–∞–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–≠—Ç–∞–ø 1) - –æ—Å–Ω–æ–≤–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - –ó–∞—Ç–µ–º –∫–ª—é—á–µ–≤—ã–µ —Ñ–∏—à–∫–∏ (–≠—Ç–∞–ø 2) - –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ç–æ—Ä—ã
   - –í –∫–æ–Ω—Ü–µ —ç–∫–æ–Ω–æ–º–∏–∫–∞ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (–≠—Ç–∞–ø 3)

2. **–£–ø—Ä–æ—â–µ–Ω–∏—è –¥–ª—è MVP:**
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å 3-4 –æ—Å–Ω–æ–≤–Ω—ã—Ö
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ - —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö
   - –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (5% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)

3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
   - –ò–Ω–¥–µ–∫—Å—ã –≤ –ë–î –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω–µ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)

---

## üîÑ –ò—Ç–µ—Ä–∞—Ü–∏–∏

### –í–µ—Ä—Å–∏—è 1.0 (MVP - 30 –¥–Ω–µ–π):
- –≠—Ç–∞–ø 1 –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –≠—Ç–∞–ø 2.1 (—Å–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞) - –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
- –≠—Ç–∞–ø 3 (—ç–∫–æ–Ω–æ–º–∏–∫–∞)

### –í–µ—Ä—Å–∏—è 1.1:
- –≠—Ç–∞–ø 2.2 (—Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ) - –ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –£–ª—É—á—à–µ–Ω–∏—è UX

### –í–µ—Ä—Å–∏—è 1.2:
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

---

**–ì–æ—Ç–æ–≤ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –≤–∞—à–µ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø–ª–∞–Ω–∞.**
