# üöÄ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## ‚úÖ –£–∂–µ –≥–æ—Ç–æ–≤–æ

1. ‚úÖ **Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ **Apple Sign In –∫–æ–¥** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
3. ‚úÖ **–ü–ª–∞—Ç–µ–∂–∏ –ÆKassa** - –∫–æ–¥ –≥–æ—Ç–æ–≤ (–Ω—É–∂–Ω—ã –∫–ª—é—á–∏)
4. ‚úÖ **Webhook –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π** - —Å–æ–∑–¥–∞–Ω (–Ω—É–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)
5. ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
6. ‚úÖ **Edge Functions** - —Å–æ–∑–¥–∞–Ω—ã

---

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–¥–ª—è –∑–∞–ø—É—Å–∫–∞):

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π (30 –º–∏–Ω—É—Ç)
- [ ] –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –æ—Ç –ÆKassa (shopId, secretKey)
- [ ] –í—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ `YooKassaClient.swift` –∏–ª–∏ Supabase Secrets
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Edge Function: `supabase functions deploy payment-webhook`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook URL –≤ –ÆKassa: `https://qvyxkbeafgarcjjppttd.supabase.co/functions/v1/payment-webhook`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å URL scheme –≤ Xcode: `challengeapp://`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ (—Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã)

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** `YOOKASSA_SETUP_GUIDE.md`

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Apple Sign In (20-30 –º–∏–Ω—É—Ç)
- [x] Capability –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Xcode (Signing & Capabilities)
- [ ] –í–∫–ª—é—á–∏—Ç—å –≤ Apple Developer Portal (App ID)
- [ ] –°–æ–∑–¥–∞—Ç—å Service ID –≤ Apple Developer Portal
- [ ] –°–æ–∑–¥–∞—Ç—å Key –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Client Secret
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Apple provider –≤ Supabase
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** `APPLE_SIGN_IN_COMPLETE_SETUP.md`

#### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–≤—Ö–æ–¥
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ —á–µ–ª–ª–µ–Ω–¥–∂
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–ª–∞—Ç—É (—Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–º–µ—Ç–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–Ω—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

### üü° –í–∞–∂–Ω–æ (–¥–ª—è –ª—É—á—à–µ–≥–æ UX):

#### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å Sentry –∏–ª–∏ Firebase Crashlytics
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

#### 5. Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å APNs
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—á–∞–ª–µ/–æ–∫–æ–Ω—á–∞–Ω–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–∞

---

## üìã –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç (–º–∏–Ω–∏–º—É–º –¥–ª—è MVP)

### –®–∞–≥ 1: –ü–ª–∞—Ç–µ–∂–∏ (30 –º–∏–Ω)
```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –æ—Ç –ÆKassa
# 2. –í—Å—Ç–∞–≤–∏—Ç—å –≤ YooKassaClient.swift
# 3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å webhook
cd ChallengeAppBackend/supabase
supabase functions deploy payment-webhook

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –ÆKassa Dashboard
# 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å URL scheme –≤ Xcode
```

### –®–∞–≥ 2: Apple Sign In (1-2 —á–∞—Å–∞)
```bash
# 1. Xcode ‚Üí Signing & Capabilities ‚Üí + Sign in with Apple
# 2. Apple Developer Portal ‚Üí App ID ‚Üí –≤–∫–ª—é—á–∏—Ç—å Sign in with Apple
# 3. –°–æ–∑–¥–∞—Ç—å Service ID
# 4. –°–æ–∑–¥–∞—Ç—å Key –∏ Client Secret
# 5. Supabase ‚Üí Authentication ‚Üí Providers ‚Üí Apple ‚Üí –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
```

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## ‚è±Ô∏è –í—Ä–µ–º—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- **–ú–∏–Ω–∏–º—É–º (MVP):** 4-6 —á–∞—Å–æ–≤
  - –ü–ª–∞—Ç–µ–∂–∏: 30 –º–∏–Ω
  - Apple Sign In: 1-2 —á–∞—Å–∞
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: 2-3 —á–∞—Å–∞

- **–° –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º:** +2 —á–∞—Å–∞
- **–° push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:** +3-4 —á–∞—Å–∞

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã:
- `YOOKASSA_SETUP_GUIDE.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- `APPLE_SIGN_IN_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Apple Sign In
- `PRODUCTION_CHECKLIST.md` - –ø–æ–ª–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç
- `HOW_TO_GET_YOOKASSA_KEYS.md` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π

---

## üéØ –ò—Ç–æ–≥–æ

**–ö–æ–¥ –≥–æ—Ç–æ–≤ –Ω–∞ ~85%!** 

–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:
1. ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞—Ç–µ–∂–∏ (–∫–ª—é—á–∏ + webhook)
2. ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Apple Sign In (capability + –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
3. ‚ö†Ô∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–í—Ä–µ–º—è:** 4-6 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã.

---

**–£–¥–∞—á–∏! üöÄ**
