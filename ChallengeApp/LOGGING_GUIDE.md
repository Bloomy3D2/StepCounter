# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é

## üìã –û–±–∑–æ—Ä

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏. –í—Å–µ –ª–æ–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π `Logger.shared` –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —ç–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è.

---

## üîç –¢–∏–ø—ã –ª–æ–≥–æ–≤

### –≠–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å—ã:
- üì± - UI —Å–æ–±—ã—Ç–∏—è (–ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- üëÜ - –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫)
- üîê - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- üí≥ - –ü–ª–∞—Ç–µ–∂–∏
- ‚úÖ - –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚ùå - –û—à–∏–±–∫–∏ –∏ –ø—Ä–æ–≤–∞–ª—ã
- ‚ö†Ô∏è - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- üîÑ - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (—á–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è, –±–∞–ª–∞–Ω—Å)
- ‚è±Ô∏è - –¢–∞–π–º–µ—Ä—ã
- üîç - –ü–æ–∏—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- üìã - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üìç –ö–ª—é—á–µ–≤—ã–µ –º–µ—Å—Ç–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. SplashView
- –ü–æ—è–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
- –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞—á–∞—Ç—å"
- –†–µ–∑—É–ª—å—Ç–∞—Ç autoSignIn

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
üì± SplashView appeared
üëÜ SplashView: User tapped '–ù–∞—á–∞—Ç—å' button
üîê AppState.autoSignIn: Starting
üîê AppState.autoSignIn: Success - Using existing session, userId=xxx, balance=0.0
```

---

### 2. RootView
- –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
üîç RootView.checkActiveChallenges: Starting
üîç RootView.checkActiveChallenges: User loaded, userId=xxx, loading challenges
üîç RootView.checkActiveChallenges: Loaded 2 challenges, 1 active
üîç RootView.checkActiveChallenges: Navigation - showSplash=false, showQuickStart=false
üì± RootView: QuickStartView appeared
```

---

### 3. QuickStartView
- –ü–æ—è–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
- –ü–æ–∏—Å–∫ Quick Start —á–µ–ª–ª–µ–Ω–¥–∂–∞
- –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ
- –ù–∞–≤–∏–≥–∞—Ü–∏—è

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
üì± QuickStartView appeared
üëÜ QuickStartView.handleStartChallenge: User tapped '–ù–∞—á–∞—Ç—å', searching for Quick Start challenge (duration=1, entryFee=299.0)
üìã QuickStartView: Loading challenges from Supabase
üìã QuickStartView: Available challenges count=5
‚úÖ QuickStartView: Found Quick Start challenge, challengeId=123, title=–ü–µ—Ä–≤—ã–π —á–µ–ª–ª–µ–Ω–¥–∂
üí≥ QuickStartView: Opening PaymentView for challengeId=123, entryFee=299.0
```

---

### 4. ActiveChallengeView
- –ü–æ—è–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–Ω—è
- –ü—Ä–æ–≤–∞–ª —á–µ–ª–ª–µ–Ω–¥–∂–∞
- –†–∞–±–æ—Ç–∞ —Ç–∞–π–º–µ—Ä–∞

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
üì± ActiveChallengeView appeared, userChallengeId=xxx
‚è±Ô∏è ActiveChallengeView: Starting timer, timeRemaining=23:45:12
‚úÖ ActiveChallengeView: User tapped '–í—ã–ø–æ–ª–Ω–∏–ª', userChallengeId=xxx, currentDay=1
‚úÖ ChallengeManager.completeDay: User balance updated, userId=xxx, balance=299.0, honestStreak=1
‚úÖ ActiveChallengeView: Day completed successfully
‚è±Ô∏è ActiveChallengeView.stopTimer: Timer stopped
```

---

### 5. ChallengeManager
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–Ω—è
- –ü—Ä–æ–≤–∞–ª —á–µ–ª–ª–µ–Ω–¥–∂–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Å—Ç–Ω–æ–π —Å–µ—Ä–∏–∏

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
‚úÖ ChallengeManager.completeDay: Starting, userChallengeId=xxx
‚úÖ ChallengeManager.completeDay: User balance updated, userId=xxx, balance=299.0, honestStreak=1
üîÑ ChallengeManager.updateHonestStreak: Incrementing streak (honest action), userId=xxx
‚úÖ ChallengeManager.updateHonestStreak: Streak incremented, userId=xxx, newStreak=1
```

---

## üêõ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 1. –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º—ã
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞:
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–ø–ª–∞—Ç–æ–π ‚Üí –∏—â–∏—Ç–µ üí≥
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π ‚Üí –∏—â–∏—Ç–µ üîê
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –¥–Ω—è ‚Üí –∏—â–∏—Ç–µ ‚úÖ
- –û—à–∏–±–∫–∏ ‚Üí –∏—â–∏—Ç–µ ‚ùå

### 2. –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ø–æ—Ç–æ–∫–∞
–°–ª–µ–¥—É–π—Ç–µ –ø–æ –ª–æ–≥–∞–º –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞:
```
üì± SplashView appeared
üëÜ SplashView: User tapped '–ù–∞—á–∞—Ç—å' button
üîê AppState.autoSignIn: Starting
üîê AppState.autoSignIn: Success
üîç RootView.checkActiveChallenges: Starting
...
```

### 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç
–í—Å–µ –ª–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç:
- `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `challengeId` - ID —á–µ–ª–ª–µ–Ω–¥–∂–∞
- `userChallengeId` - ID —É—á–∞—Å—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `balance` - –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `honestStreak` - –ß–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è
- `currentDay` - –¢–µ–∫—É—â–∏–π –¥–µ–Ω—å —á–µ–ª–ª–µ–Ω–¥–∂–∞

---

## üìù –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
[–≠–º–æ–¥–∑–∏] [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç].[–ú–µ—Ç–æ–¥]: [–î–µ–π—Å—Ç–≤–∏–µ], [–ö–æ–Ω—Ç–µ–∫—Å—Ç]
```

### –ü—Ä–∏–º–µ—Ä—ã:
```
‚úÖ ChallengeManager.completeDay: User balance updated, userId=abc123, balance=299.0, honestStreak=1
‚ùå ActiveChallengeView.handleFailChallenge: Failed to fail challenge, userChallengeId=xyz789
üîç RootView.checkActiveChallenges: Loaded 2 challenges, 1 active
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ù–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–æ–≥–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è, –Ω–µ –∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—Å–µ–≥–¥–∞**: –ö–∞–∂–¥—ã–π –ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. **–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**: 
   - `info` - –æ–±—ã—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
   - `warning` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - `error` - –æ—à–∏–±–∫–∏
   - `debug` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ (—Ç–∞–π–º–µ—Ä—ã)

---

## üîß –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏

### –í Xcode:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (View ‚Üí Debug Area ‚Üí Activate Console)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —ç–º–æ–¥–∑–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç—É

### –í —Å–∏—Å—Ç–µ–º–Ω–æ–º –ª–æ–≥–µ:
```bash
log stream --predicate 'subsystem == "com.challengeapp"' --level debug
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ª–æ–≥–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã:

- [ ] –õ–æ–≥–∏ –æ—Ç –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±–ª–µ–º—ã (SplashView –∏–ª–∏ QuickStartView)
- [ ] –í—Å–µ –ª–æ–≥–∏ —Å —ç–º–æ–¥–∑–∏ ‚ùå (–æ—à–∏–±–∫–∏)
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç (userId, challengeId, userChallengeId)
- [ ] –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É—Å–ø–µ—Ö/–ø—Ä–æ–≤–∞–ª)

---

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
