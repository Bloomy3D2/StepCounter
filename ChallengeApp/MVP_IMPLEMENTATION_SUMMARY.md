# –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP (LAYER 1 ‚Äî CORE)

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –û–±–Ω–æ–≤–ª–µ–Ω SplashView
- ‚úÖ –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º "target"
- ‚úÖ –°–ª–æ–≥–∞–Ω "–°—Ç–∞–≤–∫–∞ –Ω–∞ —Å–µ–±—è"
- ‚úÖ –¢–µ–∫—Å—Ç "–°–æ—Ä–≤–∞–ª—Å—è ‚Äî –ø–ª–∞—Ç–∏—à—å. –í—ã–¥–µ—Ä–∂–∞–ª ‚Äî –∑–∞–±–∏—Ä–∞–µ—à—å –¥–µ–Ω—å–≥–∏."
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å" —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π –≤—Ö–æ–¥ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏

**–§–∞–π–ª—ã:**
- `Views/SplashView.swift` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω

---

### 2. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ autoSignIn() –≤ AppState
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ—Å—Å–∏–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Å–µ—Å—Å–∏–∏, –µ—Å–ª–∏ –Ω–µ—Ç
- ‚úÖ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–§–∞–π–ª—ã:**
- `ChallengeAppApp.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `autoSignIn()`

---

### 3. –û–±–Ω–æ–≤–ª–µ–Ω RootView
- ‚úÖ –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `isOnboardingCompleted`
- ‚úÖ –£–±—Ä–∞–Ω Onboarding –∏–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ Quick Start
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ MainTabView –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π

**–§–∞–π–ª—ã:**
- `ChallengeAppApp.swift` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω `RootView`

---

### 4. –°–æ–∑–¥–∞–Ω QuickStartView
- ‚úÖ –≠–∫—Ä–∞–Ω —Å –≥–æ—Ç–æ–≤—ã–º —á–µ–ª–ª–µ–Ω–¥–∂–µ–º (1 –¥–µ–Ω—å, 299‚ÇΩ)
- ‚úÖ –ü–æ–∫–∞–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ–ª–ª–µ–Ω–¥–∂–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å –∑–∞ 299 ‚ÇΩ"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π"
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Loading state

**–§–∞–π–ª—ã:**
- `Views/QuickStartView.swift` ‚Äî –Ω–æ–≤—ã–π —Ñ–∞–π–ª

---

### 5. –î–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è –≤ –ë–î
- ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è `honest_streak`
- ‚úÖ –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ `increment_honest_streak()` –∏ `reset_honest_streak()`

**–§–∞–π–ª—ã:**
- `ChallengeAppBackend/supabase/add-honest-streak.sql` ‚Äî –Ω–æ–≤—ã–π —Ñ–∞–π–ª

**–ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤ Supabase:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª add-honest-streak.sql –≤ Supabase SQL Editor
```

---

### 6. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ honestStreak –≤ –º–æ–¥–µ–ª—å User
- ‚úÖ –ü–æ–ª–µ `honestStreak: Int` –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `User`
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Codable

**–§–∞–π–ª—ã:**
- `Models/User.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ

---

### 7. –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ SupabaseManager
- ‚úÖ `incrementHonestStreak(userId:)` ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–µ—Ä–∏—é
- ‚úÖ `resetHonestStreak(userId:)` ‚Äî —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–µ—Ä–∏—é
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª—ã:**
- `Managers/SupabaseManager.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã
- `Protocols/ManagerProtocols.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª

---

### 8. –û–±–Ω–æ–≤–ª–µ–Ω ChallengeManager
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Å—Ç–Ω–æ–π —Å–µ—Ä–∏–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–Ω—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Å—Ç–Ω–æ–π —Å–µ—Ä–∏–∏ –ø—Ä–∏ —á–µ—Å—Ç–Ω–æ–º –ø—Ä–æ–≤–∞–ª–µ
- ‚úÖ –ú–µ—Ç–æ–¥ `updateHonestStreak()` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏

**–§–∞–π–ª—ã:**
- `Managers/ChallengeManager.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞

---

### 9. –î–æ–±–∞–≤–ª–µ–Ω —Ç–∞–π–º–µ—Ä –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è –≤ ActiveChallengeView
- ‚úÖ –ö—Ä—É–ø–Ω—ã–π, –∑–∞–º–µ—Ç–Ω—ã–π —Ç–∞–π–º–µ—Ä (48pt, –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- ‚úÖ –§–æ—Ä–º–∞—Ç: "HH:MM:SS"
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏/–ø—Ä–æ–≤–∞–ª–µ

**–§–∞–π–ª—ã:**
- `Views/ActiveChallengeView.swift` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω —Ç–∞–π–º–µ—Ä

---

### 10. –£–ª—É—á—à–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –≤ ActiveChallengeView
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í—ã–ø–æ–ª–Ω–∏–ª" ‚Äî –±–æ–ª—å—à–∞—è (64pt –≤—ã—Å–æ—Ç–∞), –∑–µ–ª–µ–Ω–∞—è, –ø–æ —Ü–µ–Ω—Ç—Ä—É
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–≤–∞–ª–∏–ª—Å—è" ‚Äî –±–æ–ª—å—à–∞—è (64pt –≤—ã—Å–æ—Ç–∞), –∫—Ä–∞—Å–Ω–∞—è —Å –æ–±–≤–æ–¥–∫–æ–π, –ø–æ —Ü–µ–Ω—Ç—Ä—É
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è
- ‚úÖ –£–±—Ä–∞–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è –∫–Ω–æ–ø–∫–∞ "–Ø –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª"

**–§–∞–π–ª—ã:**
- `Views/ActiveChallengeView.swift` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Supabase SQL Editor:
-- –§–∞–π–ª: ChallengeAppBackend/supabase/add-honest-streak.sql
```

### 2. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π Quick Start —á–µ–ª–ª–µ–Ω–¥–∂ –≤ –ë–î
```sql
-- –°–æ–∑–¥–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ –¥–ª—è Quick Start (1 –¥–µ–Ω—å, 299‚ÇΩ)
INSERT INTO public.challenges (
    title, subtitle, icon, duration, entry_fee,
    start_date, end_date, description, is_active
) VALUES (
    '–ü–µ—Ä–≤—ã–π —á–µ–ª–ª–µ–Ω–¥–∂',
    '1 –¥–µ–Ω—å',
    'star.fill',
    1,
    299.0,
    NOW() + INTERVAL '1 day',
    NOW() + INTERVAL '2 days',
    '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —á–µ–ª–ª–µ–Ω–¥–∂',
    true
);
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å flow
- [ ] Splash ‚Üí Quick Start ‚Üí –û–ø–ª–∞—Ç–∞ ‚Üí –ê–∫—Ç–∏–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂
- [ ] –¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ß–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏/–ø—Ä–æ–≤–∞–ª–µ
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —á–µ—Å—Ç–Ω–æ–π —Å–µ—Ä–∏–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –ë–î –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã —Å try-catch
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Logger
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ ErrorHandler

### UI/UX
- ‚úÖ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –ö—Ä—É–ø–Ω—ã–µ, –∑–∞–º–µ—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- ‚úÖ Loading states

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

1. **Quick Start —á–µ–ª–ª–µ–Ω–¥–∂** ‚Äî –ø–æ–∫–∞ –∏—â–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≤ –ë–î, —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Edge Function –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ
2. **–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ Quick Start** ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –∫ MainTabView —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–ª—É—á—à–µ–Ω–∏–µ
3. **–ß–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è** ‚Äî –ø–æ–∫–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞ (—ç—Ç–æ –±—É–¥–µ—Ç –≤ LAYER 2)

---

## üìä –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–Ø

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ MVP –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è: Splash ‚Üí Quick Start ‚Üí –û–ø–ª–∞—Ç–∞
- –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞
- Retention Day 1, Day 7
- –ß–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

---

**MVP (LAYER 1 ‚Äî CORE) –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**
