# üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ - –ì–û–¢–û–í–û

## ‚úÖ –°—Ç–∞—Ç—É—Å: –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ –∑–∞—â–∏—â–µ–Ω–æ

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. –í—Å–µ –∫–ª—é—á–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ git.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
ChallengeApp/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ copy-yookassa-keys.sh          ‚úÖ Build Script (–±–µ–∑ –∫–ª—é—á–µ–π)
‚îú‚îÄ‚îÄ ChallengeApp/
‚îÇ   ‚îú‚îÄ‚îÄ Config.xcconfig                ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ Config.Release.xcconfig        ‚úÖ –ü—Ä–æ–¥–∞–∫—à–µ–Ω –∫–ª—é—á–∏ (–≤ .gitignore)
‚îÇ   ‚îî‚îÄ‚îÄ Config.local.xcconfig          ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π fallback (–≤ .gitignore)
‚îî‚îÄ‚îÄ PRODUCTION_SETUP_COMPLETE.md       üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:

1. **–í—Å–µ —Ñ–∞–π–ª—ã —Å –∫–ª—é—á–∞–º–∏ –≤ `.gitignore`:**
   ```bash
   ChallengeApp/Config.xcconfig
   ChallengeApp/Config.Release.xcconfig
   ChallengeApp/Config.local.xcconfig
   ```

2. **Build Script –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–π:**
   - –ß–∏—Ç–∞–µ—Ç –∫–ª—é—á–∏ –∏–∑ Build Settings –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
   - –ö–æ–ø–∏—Ä—É–µ—Ç –∏—Ö –≤ Info.plist –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–ö–ª—é—á–∏ –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ git:**
   ```bash
   git check-ignore ChallengeApp/ChallengeApp/Config.xcconfig
   # ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
   ```

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

1. **Debug —Å–±–æ—Ä–∫–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Config.xcconfig` (—Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏)
   - Build Script –∫–æ–ø–∏—Ä—É–µ—Ç –∫–ª—é—á–∏ –≤ Info.plist
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º API

2. **Release —Å–±–æ—Ä–∫–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Config.Release.xcconfig` (–ø—Ä–æ–¥–∞–∫—à–µ–Ω –∫–ª—é—á–∏)
   - Build Script –∫–æ–ø–∏—Ä—É–µ—Ç –∫–ª—é—á–∏ –≤ Info.plist
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–æ–¥–∞–∫—à–µ–Ω API

3. **Fallback:**
   - –ï—Å–ª–∏ .xcconfig –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Config.local.xcconfig`

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ Build Script –≤ Xcode

1. –û—Ç–∫—Ä–æ–π—Ç–µ `ChallengeApp.xcodeproj`
2. Target "ChallengeApp" ‚Üí **Build Phases**
3. **"+"** ‚Üí **"New Run Script Phase"**
4. –í—Å—Ç–∞–≤—å—Ç–µ: `"${SRCROOT}/scripts/copy-yookassa-keys.sh"`
5. –°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É **"Run script only when installing"**
6. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ **–ü–û–°–õ–ï** "Copy Bundle Resources"

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
‚åò + B  # Build
‚åò + R  # Run
```

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üîë AppConfig: YooKassa Shop ID from Info.plist: 1256365
```

---

## üìã –ö–ª—é—á–∏

### üß™ –¢–µ—Å—Ç–æ–≤—ã–µ (Debug):
- Shop ID: `1256365`
- Secret Key: `test_3NzNw2knb5rTf-bMwRMfdACZdtpAmgmRVgdfW9FYToo`
- Mode: `YES` (test)

### üöÄ –ü—Ä–æ–¥–∞–∫—à–µ–Ω (Release):
- Shop ID: `1254934`
- Secret Key: `live_qSdkVXs_uFx88lkZzzyX0DkK-iparwPb6Jm4lM7ArXM`
- Mode: `NO` (production)

**–í—Å–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.xcconfig` —Ñ–∞–π–ª–∞—Ö (–≤ .gitignore)**

---

## üéØ –ò—Ç–æ–≥

**‚úÖ –ì–æ—Ç–æ–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Debug/Release
- –ö–ª—é—á–∏ –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ git
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã

**–û—Å—Ç–∞–ª–æ—Å—å:** –î–æ–±–∞–≤–∏—Ç—å Build Script –≤ Xcode (—Å–º. –≤—ã—à–µ)

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** `PRODUCTION_SETUP_COMPLETE.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `QUICK_START_PRODUCTION.md`
- **–†–µ—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** `SECURE_KEYS_SOLUTION.md`

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –≤ Xcode (‚åò + 9)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Build Script –¥–æ–±–∞–≤–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `.xcconfig` —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
4. –°–º. `PRODUCTION_SETUP_COMPLETE.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
