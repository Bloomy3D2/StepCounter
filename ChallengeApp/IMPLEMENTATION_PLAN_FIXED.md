# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í –ü–õ–ê–ù–ï

### –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. **–ú–µ—Ç–æ–¥ `autoSignIn()` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Üí –î–æ–±–∞–≤–∏—Ç—å –≤ AppState
2. **–ú–µ—Ç–æ–¥ `incrementHonestStreak()` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Üí –î–æ–±–∞–≤–∏—Ç—å –≤ SupabaseManager
3. **Quick Start —á–µ–ª–ª–µ–Ω–¥–∂** ‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–µ–ª–ª–µ–Ω–¥–∂ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ Edge Function
4. **–¢–∞–π–º–µ—Ä** ‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Combine Timer.publish –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
5. **–ß–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è** ‚Üí –û–±–Ω–æ–≤–ª—è—Ç—å –∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏, –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ
6. **–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–∏–¥—ã** ‚Üí –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üî¥ LAYER 1 ‚Äî CORE (MVP) - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### 1.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SplashView –∏ AppState

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `autoSignIn()` –≤ AppState
- –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `isOnboardingCompleted` –∏–∑ RootView
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ—Å–ª–µ Splash

### 1.2. Quick Start

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- Quick Start –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–µ–ª–ª–µ–Ω–¥–∂ (1 –¥–µ–Ω—å, 299‚ÇΩ) –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç —á–µ—Ä–µ–∑ Edge Function
- –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### 1.3. –ß–µ—Å—Ç–Ω–∞—è —Å–µ—Ä–∏—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `incrementHonestStreak()` –≤ SupabaseManager
- –û–±–Ω–æ–≤–ª—è—Ç—å —Å–µ—Ä–∏—é –ø—Ä–∏ —á–µ—Å—Ç–Ω–æ–º –ø—Ä–æ–≤–∞–ª–µ –ò –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- Edge Function –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1.4. –¢–∞–π–º–µ—Ä

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Timer.publish` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏/–ø—Ä–æ–≤–∞–ª–µ

---

## üìä –ë–ê–ó–ê –î–ê–ù–ù–´–• - –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–∏–¥—ã —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏:

```sql
-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
CREATE OR REPLACE FUNCTION refresh_user_statistics()
RETURNS TRIGGER AS $$
BEGIN
    REFRESH MATERIALIZED VIEW CONCURRENTLY user_statistics;
    RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_refresh_user_statistics
AFTER INSERT OR UPDATE OR DELETE ON public.user_challenges
FOR EACH STATEMENT
EXECUTE FUNCTION refresh_user_statistics();
```

---

**–¢–µ–ø–µ—Ä—å –ø—Ä–∏—Å—Ç—É–ø–∞—é –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏.**
