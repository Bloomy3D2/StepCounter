# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π Supabase

## ‚úÖ –î–∞, –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å anon public key!

### –ß—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:

1. **Project URL** (–≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã API)
   - –ù–∞–ø—Ä–∏–º–µ—Ä: `https://qvyyxxxxx.supabase.co`
   - –≠—Ç–æ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Supabase –ø—Ä–æ–µ–∫—Ç–∞

2. **anon public key** (–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∫–æ—Ç–æ—Ä—É—é –≤—ã –≤–∏–¥–∏—Ç–µ)
   - –î–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`
   - –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã (iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π

### ‚úÖ anon public key - –ë–ï–ó–û–ü–ê–°–ù–û –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –ú–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git (–Ω–æ –ª—É—á—à–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- ‚úÖ –ó–∞—â–∏—â–µ–Ω Row Level Security (RLS) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ù–µ –º–æ–∂–µ—Ç –æ–±–æ–π—Ç–∏ RLS –ø–æ–ª–∏—Ç–∏–∫–∏

### ‚ö†Ô∏è service_role secret key - –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚ùå –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ Git
- ‚ùå –ú–æ–∂–µ—Ç –æ–±–æ–π—Ç–∏ RLS - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Edge Functions)

---

## üìù –ö—É–¥–∞ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª
`ChallengeApp/Managers/SupabaseManager.swift`

### –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
```swift
guard let url = URL(string: "YOUR_SUPABASE_URL"),
      let key = "YOUR_SUPABASE_ANON_KEY" as String? else {
```

### –®–∞–≥ 3: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è:

```swift
guard let url = URL(string: "https://qvyyxxxxx.supabase.co"),
      let key = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF2eXl..." as String? else {
```

**–ì–¥–µ –≤–∑—è—Ç—å:**
- `YOUR_SUPABASE_URL` ‚Üí Settings ‚Üí API ‚Üí Project URL
- `YOUR_SUPABASE_ANON_KEY` ‚Üí Settings ‚Üí API ‚Üí anon public key (–∫–æ—Ç–æ—Ä—É—é –≤—ã –≤–∏–¥–∏—Ç–µ)

---

## üéØ –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```swift
private func setupClient() {
    // ‚ö†Ô∏è –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–®–ò –†–ï–ê–õ–¨–ù–´–ï –ó–ù–ê–ß–ï–ù–ò–Ø:
    guard let url = URL(string: "https://qvyyxxxxx.supabase.co"),
          let key = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF2eXl..." as String? else {
        print("‚ö†Ô∏è Supabase credentials not configured")
        return
    }
    
    client = SupabaseClient(supabaseURL: url, supabaseKey: key)
}
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í –∫–æ–¥–µ (–¥–ª—è MVP)
- –ü—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ –≤ `SupabaseManager.swift`
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Info.plist (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –î–æ–±–∞–≤—å—Ç–µ –≤ `Info.plist`:
```xml
<key>SUPABASE_URL</key>
<string>https://qvyyxxxxx.supabase.co</string>
<key>SUPABASE_ANON_KEY</key>
<string>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</string>
```

2. –í `SupabaseManager.swift`:
```swift
guard let urlString = Bundle.main.object(forInfoDictionaryKey: "SUPABASE_URL") as? String,
      let url = URL(string: urlString),
      let key = Bundle.main.object(forInfoDictionaryKey: "SUPABASE_ANON_KEY") as? String else {
    print("‚ö†Ô∏è Supabase credentials not found in Info.plist")
    return
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ .xcconfig (–¥–ª—è production)
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `Config.xcconfig`
- –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ —Ç—É–¥–∞
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ Git (–¥–æ–±–∞–≤—å—Ç–µ –≤ .gitignore)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª Project URL –∏–∑ Supabase Dashboard
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª anon public key (–ù–ï service_role!)
- [ ] –í—Å—Ç–∞–≤–∏–ª URL –≤ `SupabaseManager.swift`
- [ ] –í—Å—Ç–∞–≤–∏–ª anon key –≤ `SupabaseManager.swift`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª, —á—Ç–æ –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤)
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–µ–π, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Xcode - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase Dashboard:
   - Authentication ‚Üí Users (–¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
   - Table Editor ‚Üí users (–¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–æ—Ñ–∏–ª—å)

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `https://`)
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–∞ (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `eyJ...`)
- –ù–µ—Ç –ª–∏ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–µ–π –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–∂–µ—Ç:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ Supabase
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL —Å—Ö–µ–º—É (`schema.sql`) –≤ Supabase SQL Editor!
