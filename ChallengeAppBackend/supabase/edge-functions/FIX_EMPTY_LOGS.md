# üîç –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—É—Å—Ç—ã–µ –ª–æ–≥–∏ –≤ Edge Function

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê

–õ–æ–≥–∏ –≤ Edge Function `fail-challenge` –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Supabase Dashboard, —Ö–æ—Ç—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (–≤–∏–¥–Ω–æ 3 –≤—ã–∑–æ–≤–∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ).

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –ü–µ—Ä–µ—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å Edge Function

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ Edge Function –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å:**

```bash
cd /Users/maratgaliev/Downloads/Project/MyProjectGame/ChallengeAppBackend/supabase

# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å fail-challenge —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
supabase functions deploy fail-challenge --no-verify-jwt
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ Dashboard:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://supabase.com/dashboard/project/qvyxkbeafgarcjjppttd/functions/fail-challenge
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Code"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –∏–∑ `edge-functions/fail-challenge/index.ts`
4. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "Logs"** (–Ω–µ "Overview"!)
   - Dashboard ‚Üí Edge Functions ‚Üí fail-challenge ‚Üí **Logs**

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
   - **Time range:** "Last hour" –∏–ª–∏ "Last 15 min"
   - **Severity:** –í—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ —É—Ä–æ–≤–Ω–∏ (Error, Warning, Info, Debug, Log)

3. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (F5 –∏–ª–∏ Cmd+R)

4. **–ü—Ä–æ–≤–∞–ª–∏—Ç–µ —á–µ–ª–ª–µ–Ω–¥–∂ —Å–Ω–æ–≤–∞** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
   - `üöÄ fail-challenge Edge Function STARTED`
   - `üìÖ Timestamp: ...`
   - `üìã Request headers: ...`
   - `üîë Authorization header: ...`
   - –ò —Ç.–¥.

### –®–∞–≥ 3: –ï—Å–ª–∏ –ª–æ–≥–∏ –≤—Å–µ –µ—â–µ –ø—É—Å—Ç—ã–µ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **Edge Function –Ω–µ –ø–µ—Ä–µ—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ `supabase functions deploy`
2. **–õ–æ–≥–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π** - –ø–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–∫—Ä—ã—Ç–∞ –≤–∫–ª–∞–¥–∫–∞ **"Logs"**, –∞ –Ω–µ "Overview"
4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω** - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ "Last hour" –≤–º–µ—Å—Ç–æ "Last 15 min"

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ CLI:**

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —á–µ—Ä–µ–∑ CLI
supabase functions logs fail-challenge --project-ref qvyxkbeafgarcjjppttd
```

---

## üìã –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–õ–æ–≥–∏ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏** - —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
2. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** - —Å JSON.stringify –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ finally –±–ª–æ–∫–µ** - —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤** - –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞

---

**–î–∞—Ç–∞:** 2026-01-23  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô (fallback —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ª–æ–≥–∏ –ø–æ–º–æ–≥—É—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å 401)
