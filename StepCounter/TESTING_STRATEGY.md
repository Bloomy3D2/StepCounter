# üß™ –°–¢–†–ê–¢–ï–ì–ò–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø STEPCOUNTER

## üìã –û–ë–ó–û–† –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–ò

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **–¢—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**
   - –ü–æ–¥—Å—á–µ—Ç —à–∞–≥–æ–≤
   - –ò–∑–º–µ—Ä–µ–Ω–∏–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
   - –ü–æ–¥—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π
   - –ê–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è (–º–∏–Ω—É—Ç—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HealthKit

2. **–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ XP**
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π (1-100+)
   - –ó–≤–∞–Ω–∏—è –∏–≥—Ä–æ–∫–∞ (10 —Ä–∞–Ω–≥–æ–≤)
   - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤

3. **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è**
   - 50+ —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - –°–µ—Ä–∏–∏ –¥–Ω–µ–π (streak)
   - Premium –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
   - –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

4. **–ü–∏—Ç–æ–º–µ—Ü**
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤—ã–±–æ—Ä –ø–∏—Ç–æ–º—Ü–∞
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–∏—Ç–æ–º—Ü–∞ (XP, —É—Ä–æ–≤–Ω–∏)
   - –≠–≤–æ–ª—é—Ü–∏—è –ø–∏—Ç–æ–º—Ü–∞
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞
   - –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã –¥–ª—è –ø–∏—Ç–æ–º—Ü–∞
   - Premium –ø–∏—Ç–æ–º—Ü—ã

5. **–¢—É—Ä–Ω–∏—Ä—ã –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è**
   - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã
   - –°–µ–∑–æ–Ω—ã
   - –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
   - –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã

6. **–ú–∞—Ä—à—Ä—É—Ç—ã**
   - GPS —Ç—Ä–µ–∫–∏–Ω–≥
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

7. **Premium –ø–æ–¥–ø–∏—Å–∫–∞**
   - –ú–µ—Å—è—á–Ω–∞—è/–≥–æ–¥–æ–≤–∞—è/–ø–æ–∂–∏–∑–Ω–µ–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
   - Premium —Ñ—É–Ω–∫—Ü–∏–∏
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

8. **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å**
   - –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
   - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
   - –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

9. **–¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è**
   - –ë–∞–∑–æ–≤—ã–µ —Ç–µ–º—ã
   - Premium —Ç–µ–º—ã
   - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–º—ã
   - –ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º

10. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
    - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–æ–≥—É–ª–∫–µ
    - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
    - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç—É—Ä–Ω–∏—Ä–∞—Ö

---

## üéØ –ü–†–ò–ù–¶–ò–ü–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
- "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å XP –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–≤–µ—Å—Ç–∞"
- "–ü–∏—Ç–æ–º–µ—Ü –¥–æ–ª–∂–µ–Ω —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è"
- "Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–∏—Ç–æ–º—Ü–∞–º"

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- "–ú–µ—Ç–æ–¥ `addXP` –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å `savePlayer`"
- "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `currentLevel` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
- "–î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `UserDefaults` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"

---

## üì¶ –°–¢–†–£–ö–¢–£–†–ê –¢–ï–°–¢–û–í

```
StepCounterTests/
‚îú‚îÄ‚îÄ Managers/
‚îÇ   ‚îú‚îÄ‚îÄ HealthManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ PetManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ AchievementManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ LevelManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ SubscriptionManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ TournamentManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ SeasonManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ LocationManagerTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ ThemeManagerTests.swift
‚îÇ   ‚îî‚îÄ‚îÄ PrivacyConsentManagerTests.swift
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îú‚îÄ‚îÄ PlayerDataTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ PetTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ AchievementTests.swift
‚îÇ   ‚îî‚îÄ‚îÄ QuestTests.swift
‚îú‚îÄ‚îÄ BusinessLogic/
‚îÇ   ‚îú‚îÄ‚îÄ XPCalculationTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ LevelCalculationTests.swift
‚îÇ   ‚îú‚îÄ‚îÄ RankCalculationTests.swift
‚îÇ   ‚îî‚îÄ‚îÄ AchievementUnlockTests.swift
‚îú‚îÄ‚îÄ Utils/
‚îÇ   ‚îú‚îÄ‚îÄ StorageManagerTests.swift
‚îÇ   ‚îî‚îÄ‚îÄ DateUtilsTests.swift
‚îî‚îÄ‚îÄ Integration/
    ‚îú‚îÄ‚îÄ DataFlowTests.swift
    ‚îî‚îÄ‚îÄ PremiumFeaturesTests.swift
```

---

## üß™ –ö–ê–¢–ï–ì–û–†–ò–ò –¢–ï–°–¢–û–í

### 1. Unit Tests (–ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã)
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ.

**–ü—Ä–∏–º–µ—Ä—ã:**
- –†–∞—Å—á–µ—Ç XP –∑–∞ —à–∞–≥–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–∞

### 2. Integration Tests (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã)
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä—ã:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É HealthManager –∏ LevelManager
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ XP
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π

### 3. Behavior Tests (–¢–µ—Å—Ç—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è)
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–≤–µ—Å—Ç ‚Üí –ø–æ–ª—É—á–∞–µ—Ç XP ‚Üí –ø–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–∏ —à–∞–≥–æ–≤ ‚Üí —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- Premium –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç ‚Üí —Ç–µ–º–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –±–∞–∑–æ–≤—É—é

---

## üìù –ü–†–ò–ú–ï–†–´ –¢–ï–°–¢–û–í–´–• –°–¶–ï–ù–ê–†–ò–ï–í

### HealthManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —à–∞–≥–∞—Ö**
- **Given:** HealthKit –¥–æ—Å—Ç—É–ø–µ–Ω, –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- **When:** –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —à–∞–≥–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- **Then:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–∏ —à–∞–≥–æ–≤**
- **Given:** –¢–µ–∫—É—â–∞—è —Ü–µ–ª—å 10000 —à–∞–≥–æ–≤
- **When:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—É—é —Ü–µ–ª—å 15000 —à–∞–≥–æ–≤
- **Then:** –¶–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### PetManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞**
- **Given:** –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø–∏—Ç–æ–º—Ü–∞
- **When:** –°–æ–∑–¥–∞–µ–º –ø–∏—Ç–æ–º—Ü–∞ —Ç–∏–ø–∞ Poodle —Å –∏–º–µ–Ω–µ–º "–ë–æ–±–∏–∫"
- **Then:** –ü–∏—Ç–æ–º–µ—Ü —Å–æ–∑–¥–∞–Ω, –≤—ã–±—Ä–∞–Ω –∫–∞–∫ —Ç–µ–∫—É—â–∏–π, –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –≠–≤–æ–ª—é—Ü–∏—è –ø–∏—Ç–æ–º—Ü–∞**
- **Given:** –ü–∏—Ç–æ–º–µ—Ü –Ω–∞ —É—Ä–æ–≤–Ω–µ 4 —Å 990 XP (–¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –Ω—É–∂–Ω–æ 1000 XP)
- **When:** –î–æ–±–∞–≤–ª—è–µ–º 20 XP
- **Then:** –ü–∏—Ç–æ–º–µ—Ü –ø–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –¥–æ 5, XP —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: Premium –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
- **Given:** Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —É–∂–µ –µ—Å—Ç—å 1 –ø–∏—Ç–æ–º–µ—Ü —Ç–∏–ø–∞ Poodle
- **When:** –ü—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
- **Then:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ Premium

### AchievementManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è**
- **Given:** –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ "–ü–µ—Ä–≤—ã–µ 1000 —à–∞–≥–æ–≤" –Ω–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ, —Ç–µ–∫—É—â–∏–µ —à–∞–≥–∏ 999
- **When:** –®–∞–≥–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –¥–æ 1000
- **When:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- **Then:** –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ, –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–µ—Ä–∏—è –¥–Ω–µ–π**
- **Given:** –°–µ—Ä–∏—è –¥–Ω–µ–π = 5, –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—á–µ—Ä–∞
- **When:** –°–µ–≥–æ–¥–Ω—è –¥–µ–ª–∞–µ–º —à–∞–≥–∏ (–±–æ–ª—å—à–µ 0)
- **Then:** –°–µ—Ä–∏—è –¥–Ω–µ–π —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 6

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–∏**
- **Given:** –°–µ—Ä–∏—è –¥–Ω–µ–π = 5, –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–∑–∞–≤—á–µ—Ä–∞
- **When:** –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Ä–∏—é –¥–Ω–µ–π
- **Then:** –°–µ—Ä–∏—è –¥–Ω–µ–π —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¥–æ 0

### LevelManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP**
- **Given:** –ò–≥—Ä–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ 5 —Å 500 XP (–¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è 1000 XP)
- **When:** –î–æ–±–∞–≤–ª—è–µ–º 600 XP –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞
- **Then:** –ò–≥—Ä–æ–∫ –ø–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –¥–æ 6, –æ—Å—Ç–∞—Ç–æ–∫ XP = 100

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤**
- **Given:** –°–µ–≥–æ–¥–Ω—è –µ—â–µ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –∫–≤–µ—Å—Ç—ã
- **When:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–æ–≤
- **Then:** –°–æ–∑–¥–∞–Ω–æ 3 –∫–≤–µ—Å—Ç–∞ (2 –æ–±—ã—á–Ω—ã—Ö + 1 Premium), –≤—Å–µ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ ID

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞**
- **Given:** –ö–≤–µ—Å—Ç "–ü—Ä–æ–π—Ç–∏ 5000 —à–∞–≥–æ–≤", —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å 0
- **When:** –®–∞–≥–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –¥–æ 5000
- **Then:** –ö–≤–µ—Å—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π, –Ω–∞—á–∏—Å–ª–µ–Ω XP

### SubscriptionManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ê–∫—Ç–∏–≤–∞—Ü–∏—è Premium**
- **Given:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ Premium
- **When:** –ü–æ–∫—É–ø–∞–µ—Ç—Å—è –º–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
- **Then:** `isPremium` = true, `activeSubscription` = .monthly, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ò—Å—Ç–µ—á–µ–Ω–∏–µ Premium**
- **Given:** Premium –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –¥–æ –≤—á–µ—Ä–∞—à–Ω–µ–≥–æ –¥–Ω—è
- **When:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
- **Then:** `isPremium` = false, Premium —Ç–µ–º–∞ —Å–±—Ä–æ—à–µ–Ω–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Premium –¥–Ω–µ–π**
- **Given:** Premium –∞–∫—Ç–∏–≤–Ω–∞ –¥–æ 10.01.2025
- **When:** –î–æ–±–∞–≤–ª—è–µ–º 7 –¥–Ω–µ–π Premium
- **Then:** Premium –∞–∫—Ç–∏–≤–Ω–∞ –¥–æ 17.01.2025

### TournamentManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—É—Ä–Ω–∏—Ä–∞**
- **Given:** –¢–µ–∫—É—â–∏–π —Ç—É—Ä–Ω–∏—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è –≤—á–µ—Ä–∞
- **When:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- **Then:** –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä –Ω–∞ —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–≥–æ–≤ –≤ —Ç—É—Ä–Ω–∏—Ä–µ**
- **Given:** –¢—É—Ä–Ω–∏—Ä –Ω–∞—á–∞–ª—Å—è 3 –¥–Ω—è –Ω–∞–∑–∞–¥, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–¥–µ–ª–∞–ª 5000 —à–∞–≥–æ–≤
- **When:** –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —à–∞–≥–∏ –∑–∞ –Ω–µ–¥–µ–ª—é
- **Then:** –®–∞–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç—É—Ä–Ω–∏—Ä–µ = 5000, —Ä–∞–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω

### LocationManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞—á–∞–ª–æ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –º–∞—Ä—à—Ä—É—Ç–∞**
- **Given:** –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞—Ü–∏—é –¥–∞–Ω–æ
- **When:** –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–µ–∫–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–∞
- **Then:** –¢—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω, –Ω–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –∑–∞–ø–∏—Å–∞–Ω–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞**
- **Given:** –¢—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω, –ø—Ä–æ–π–¥–µ–Ω–æ 100 –º–µ—Ç—Ä–æ–≤
- **When:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç—Ä–µ–∫–∏–Ω–≥
- **Then:** –ú–∞—Ä—à—Ä—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–µ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: Premium –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
- **Given:** Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ 5 –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **When:** –ü—ã—Ç–∞–µ–º—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å 6-–π –º–∞—Ä—à—Ä—É—Ç
- **Then:** –°–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –º–∞—Ä—à—Ä—É—Ç —É–¥–∞–ª—è–µ—Ç—Å—è, –Ω–æ–≤—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### PrivacyConsentManager

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –í—ã–¥–∞—á–∞ —Å–æ–≥–ª–∞—Å–∏—è**
- **Given:** –°–æ–≥–ª–∞—Å–∏–µ –Ω–µ –¥–∞–Ω–æ
- **When:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ
- **Then:** `hasConsent` = true, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–∞—Ç–∞ –∏ –≤–µ—Ä—Å–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–∑—ã–≤ —Å–æ–≥–ª–∞—Å–∏—è**
- **Given:** –°–æ–≥–ª–∞—Å–∏–µ –¥–∞–Ω–æ
- **When:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∑—ã–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ
- **Then:** `hasConsent` = false, —Ñ—É–Ω–∫—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ú–æ–∫–∏ –∏ —Å—Ç–∞–±—ã:

1. **HealthKit –º–æ–∫–∏:**
   - `MockHealthStore` - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ HealthKit
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

2. **UserDefaults –º–æ–∫–∏:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π UserDefaults –¥–ª—è —Ç–µ—Å—Ç–æ–≤
   - –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞

3. **Location –º–æ–∫–∏:**
   - `MockLocationManager` - –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ GPS –¥–∞–Ω–Ω—ã—Ö
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤
- –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

---

## üìä –ú–ï–¢–†–ò–ö–ò –ü–û–ö–†–´–¢–ò–Ø

### –¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:
- **Managers:** 80%+
- **Business Logic:** 90%+
- **Models:** 70%+
- **Utils:** 85%+

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (100% –ø–æ–∫—Ä—ã—Ç–∏–µ):
- –†–∞—Å—á–µ—Ç—ã XP –∏ —É—Ä–æ–≤–Ω–µ–π
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- Premium –ø—Ä–æ–≤–µ—Ä–∫–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π target –≤ Xcode
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (–º–æ–∫–∏, —Ö–µ–ª–ø–µ—Ä—ã)
3. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è StorageManager

### –≠—Ç–∞–ø 2: Core Managers
1. LevelManager —Ç–µ—Å—Ç—ã
2. AchievementManager —Ç–µ—Å—Ç—ã
3. PetManager —Ç–µ—Å—Ç—ã

### –≠—Ç–∞–ø 3: Premium –∏ –ø–æ–¥–ø–∏—Å–∫–∏
1. SubscriptionManager —Ç–µ—Å—Ç—ã
2. Premium –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ—Å—Ç—ã

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
1. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏
2. –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –≠—Ç–∞–ø 5: Edge cases
1. –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –¢–ï–°–¢–û–í

### HealthManager
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–≥–æ–≤ –∑–∞ –¥–µ–Ω—å
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–≥–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü/–≥–æ–¥
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–∏ —à–∞–≥–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ HealthKit
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### PetManager
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞
- [ ] –í—ã–±–æ—Ä –ø–∏—Ç–æ–º—Ü–∞
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞
- [ ] –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP –ø–∏—Ç–æ–º—Ü—É
- [ ] –≠–≤–æ–ª—é—Ü–∏—è –ø–∏—Ç–æ–º—Ü–∞
- [ ] Premium –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### AchievementManager
- [ ] –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- [ ] –°–µ—Ä–∏—è –¥–Ω–µ–π (streak)
- [ ] Premium –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- [ ] –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### LevelManager
- [ ] –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP
- [ ] –ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
- [ ] –†–∞—Å—á–µ—Ç –∑–≤–∞–Ω–∏—è
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–æ–≤
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
- [ ] Premium –∫–≤–µ—Å—Ç—ã

### SubscriptionManager
- [ ] –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –ò—Å—Ç–µ—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Premium –¥–Ω–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫

### TournamentManager
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–≥–æ–≤
- [ ] –†–∞—Å—á–µ—Ç —Ä–∞–Ω–≥–∞
- [ ] –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞

### LocationManager
- [ ] –ù–∞—á–∞–ª–æ —Ç—Ä–µ–∫–∏–Ω–≥–∞
- [ ] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
- [ ] Premium –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- [ ] –¢–æ—á–Ω–æ—Å—Ç—å GPS

### PrivacyConsentManager
- [ ] –í—ã–¥–∞—á–∞ —Å–æ–≥–ª–∞—Å–∏—è
- [ ] –û—Ç–∑—ã–≤ —Å–æ–≥–ª–∞—Å–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø–æ–ª–∏—Ç–∏–∫–∏

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´

### üî• –ö—Ä–∏—Ç–∏—á–Ω–æ (–¥–µ–ª–∞–µ–º –ø–µ—Ä–≤—ã–º–∏):
1. –†–∞—Å—á–µ—Ç—ã XP –∏ —É—Ä–æ–≤–Ω–µ–π
2. –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
3. Premium –ø—Ä–æ–≤–µ—Ä–∫–∏
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### üî• –í–∞–∂–Ω–æ:
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
6. –¢–µ—Å—Ç—ã –ø–∏—Ç–æ–º—Ü–∞
7. –¢–µ—Å—Ç—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤

### ‚ö° –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ:
8. UI —Ç–µ—Å—Ç—ã
9. Performance —Ç–µ—Å—Ç—ã
10. Edge cases
